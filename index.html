<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8">
  <link rel="shortcut icon" href="#"> <!-- fixes some console.log error -->

  <link rel="stylesheet" href="css/normalize.css" />
  <link rel="stylesheet" href="css/skeleton.css" />
  <link rel="stylesheet" href="css/font-awesome.css" />
  <link rel="stylesheet" href="css/open-sans.css" />
  <link rel="stylesheet" href="css/index.css" />
  <link rel="stylesheet" href="css/tooltipster.bundle.min.css" />

  <script src="js/pathways.js"></script>
  <script src="js/cytoscape.min.js"></script>
  <script src="js/cola.js"></script>
  <script src="js/cytoscape-cola.js"></script>
  <script src="js/jquery-3.1.1.min.js"></script>
  <script src="js/tooltipster.bundle.min.js"></script>
  <script src="js/index.js"></script>
  <script src="js/cytoscape-svg.js"></script>
  <script src="js/FileSaver.js"></script>
  <!-- <script src="js/file_system.js"></script> -->

  <script>
    var saveAsSvg = function(filename) {
        var svgContent = cy.svg({scale: 0.15, full: true, bg: 'white',display:'block'});
        var blob = new Blob([svgContent], {type:"image/svg+xml;charset=utf-8"});
        saveAs(blob, "demo.svg");
      };

    var getSvgUrl = function() {
        var svgContent = cy.svg({scale: 0.15, full: true, bg: 'white',display:'block'});
        var blob = new Blob([svgContent], {type:"image/svg+xml;charset=utf-8"});
        var url = URL.createObjectURL(blob);
        return url;
      };

    var changeThing = function(divID, text) {
        var pathTool = document.getElementById(divID);
        pathTool.innerHTML = text;
      };
  </script>

  <title>Network Pathways</title>
</head>

<body>

  <div id="cy" class="main">
    <h><a target="_blank" href="http://js.cytoscape.org">cytoscape.js</a> <br>
      <a target="_blank" href="https://github.com/kinimesi/cytoscape-svg">cytoscape-svg</a> <br></h>
    <button style="color: white; background-color: #008CBA; width: 100px; height: 30px; text-align: center; padding: 0px; line-height: 0.5;" onclick="saveAsSvg()">Save as SVG</button>
    <button style="color: white; background-color: #ff0000; width: 100px; height: 30px; text-align: center; padding: 0px; line-height: 0.5;" onclick="window.location=getSvgUrl()">View SVG</button>
    <div id="networkInfo" class="box" style="position:fixed; right:27%; top:2%;
      padding-top:2px; padding-left:2px; height:100px; width:200px; 
      font-size:15px; line-height:1.2; background-color:lightgrey;">
      <p>Hello there</p>
    </div>
  </div>

  <div id="toolbar" class="tools">

    <label for="sourceShow" class="tooltip u-pull-left" style="position:absolute; left:2%; top:4%;" title="Choose the source node">Active Source</label>
    <div class="u-cf"></div>
    <select class id="sourceShow" style="position:absolute; left:40%; top:2%;">
        <option value="Source">Source</option>
    </select>

    <label for="targetShow" class="tooltip u-pull-left" style="position:absolute; left:2%; top:16%;" title="Choose the target node">Active Target</label>
    <div class="u-cf"></div>
    <select class id="targetShow" style="position:absolute; left:40%; top:14%;">
        <option value="Target">Target</option>
    </select>

    <label for="pathShow" class="tooltip u-pull-left" style="position:absolute; left:2%; top:28%;" title="Choose which pathway to show">Active Pathway</label>
    <div class="u-cf"></div>
    <select class id="pathShow" style="position:absolute; left:2%; top:36%;">
        <option value="0">Pathways</option>
        <option value="1">Mooooore</option>
    </select>

<!--     <div style="position:absolute; top:56%; vertical-align:top; transform: translate(0, 50%);">
        <p>Choose which subset to display. Each option shows the top pathways for that subset. 
          For MS patients, the Overlap Network shows the edges that were present in both the 
          single-cell data network and any of the paths targeting the clinical phenotype.</p>
    </div> -->

    <label for="data" class="tooltip u-pull-left" style="position:absolute; top:46%;" title="Switch to a new dataset">Active dataset</label>
    <div class="u-cf"></div>
    <select class id="data" style="position:absolute; left:0%; top:52%;">
        <option value="pathways_msgbclin_pats.json">MSGB to Clinical: All MS Patients</option>
        <option value="pathways_phosclin_pats.json">Proteomics to Clinical: All MS Patients</option>
        <option value="pathways_cytoclin_pats.json">Cytomics to Clinical: All MS Patients</option>
        <option value="pathways_genova.json">Single-Cell Data Network</option>
        <option value="pathways_overlap_pats.json">Overlap Network: Patients</option>
        <option value="pathways_msgbclin_mild.json">MSGB to Clinical: Mild MS Patients</option>
        <option value="pathways_phosclin_mild.json">Proteomics to Clinical: Mild MS Patients</option>
        <option value="pathways_cytoclin_mild.json">Cytomics to Clinical: Mild MS Patients</option>
        <option value="pathways_msgbclin_severe.json">MSGB to Clinical: Severe MS Patients</option>
        <option value="pathways_phosclin_severe.json">Proteomics to Clinical: Severe MS Patients</option>
        <option value="pathways_cytoclin_severe.json">Cytomics to Clinical: Severe MS Patients</option>
        <option value="pathways_msgbclin_pms.json">MSGB to Clinical: Progressive MS</option>
        <option value="pathways_phosclin_pms.json">Proteomics to Clinical: Progressive MS</option>
        <option value="pathways_cytoclin_pms.json">Cytomics to Clinical: Progressive MS</option>
        <option value="pathways_msgbclin_rms.json">MSGB to Clinical: Relapse-Remitting MS</option>
        <option value="pathways_phosclin_rms.json">Proteomics to Clinical: Relapse-Remitting MS</option>
        <option value="pathways_cytoclin_rms.json">Cytomics to Clinical: Relapse-Remitting MS</option>
        <option value="pathways_msgbclin_notreat.json">MSGB to Clinical: Untreated</option>
        <option value="pathways_phosclin_notreat.json">Proteomics to Clinical: Untreated</option>
        <option value="pathways_cytoclin_notreat.json">Cytomics to Clinical: Untreated</option>
        <option value="pathways_msgbclin_first.json">MSGB to Clinical: Low-Efficacy Treatment</option>
        <option value="pathways_phosclin_first.json">Proteomics to Clinical: Low-Efficacy Treatment</option>
        <option value="pathways_cytoclin_first.json">Cytomics to Clinical: Low-Efficacy Treatment</option>
        <option value="pathways_msgbclin_second.json">MSGB to Clinical: High-Efficacy Treatment</option>
        <option value="pathways_phosclin_second.json">Proteomics to Clinical: High-Efficacy Treatment</option>
        <option value="pathways_cytoclin_second.json">Cytomics to Clinical: High-Efficacy Treatment</option>
      </select>
      <p></p>

    <label for="pathActive" class="tooltip u-pull-left" style="position:absolute; left:2%; top:64%;" title="Choose which pathway to show">Highlighted Pathways</label>
    <div id="pathActive" class="u-cf" style="position:absolute; left:2%; top:74%; font-size:12px;">
      <p></p>
    </div>

  </div>
  <p></p>

</body>

</html>
